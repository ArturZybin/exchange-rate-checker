(this["webpackJsonpexchange-rate-checker"]=this["webpackJsonpexchange-rate-checker"]||[]).push([[0],{53:function(e,t,r){e.exports=r(61)},61:function(e,t,r){"use strict";r.r(t);var n=r(22),a=r.n(n),c=r(50),o=r.n(c),s=r(42),u=r.n(s),i=r(47),h=r(43),f=r(51),l=r.n(f),p=function(e){var t=e.data,r=e.base,c=e.currency;return Object(n.useEffect)((function(){for(var e=[],n=0;n<7;n++){var a=new Date;a.setMonth(a.getMonth()-n),e.push(a.toLocaleString("default",{month:"long"}))}!function(e,t,r,n){var a=document.getElementById("chart");if(!a)return;new l.a(a.getContext("2d"),{type:"line",data:{labels:n,datasets:[{label:"".concat(r," in ").concat(t),data:e,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}})}(t,r,c,e)}),[t,r,c]),a.a.createElement("canvas",{id:"chart",className:"chart"})};var b=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)("USD"),s=Object(h.a)(o,2),u=s[0],i=(s[1],Object(n.useState)("RUB")),f=Object(h.a)(i,2),l=f[0],b=(f[1],Object(n.useState)()),m=Object(h.a)(b,2),j=m[0],v=m[1];Object(n.useEffect)((function(){(function(){return d.apply(this,arguments)})().then(c)}),[]),Object(n.useEffect)((function(){(function(e,t){return g.apply(this,arguments)})(u,l).then(v)}),[u,l]);var O=u,E=l;return r&&(O=r[u],E=r[l]),a.a.createElement("div",{className:"app"},a.a.createElement(p,{data:j,base:O,currency:E}))};function d(){return(d=Object(i.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://openexchangerates.org/api/currencies.json");case 2:return(r=e.sent).ok||console.error("Error loading currencies"),e.next=6,r.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(i.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=m(t,r),e.next=4,Promise.all(a).then((function(e){e.forEach((function(e){return n.push(e.rates[r])}))}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){for(var r=[],n=0;n<7;n++){var a=new Date;a.setMonth(a.getMonth()-n);var c=a.toJSON().slice(0,10),o=new URL("https://openexchangerates.org/api/historical/"+c+".json");o.searchParams.set("app_id","814335798c7149bfb3caad3be6e1acb2"),o.searchParams.set("base",e),o.searchParams.set("symbols",t),r.push(fetch(o.toString()).then((function(e){return e.ok||console.error("Error loading currency data"),e.json()})))}return r}o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(b,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.83f86cf1.chunk.js.map